<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Fit - Men</title>
    <link rel="stylesheet" href="stylemen.css">
</head>
<body>
    <!-- Navigation Bar -->
    <header>
        <div class="logo">ðŸ‘• Pic2Fit</div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="women.html">Women</a></li>
                <li><a href="men.html">Men</a></li>
                <li><a href="type.html">FitCheck</a></li>
            </ul>
        </nav>
    </header>

    

    <section class="fit-container">
        <!-- Form -->
        <div class="fit-selection">
            <form>
                <div class="input-group">
                    <!-- Image Capture Button -->
                    <div class="scan-section">
                        <button class="image-button" type="button" onclick="openCamera()">
                            <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/scan-icon.png" alt="Scan Icon" class="scan-icon">
                            <span class="scan-label">Scan My Size</span>
                        </button>
                    </div>
                    <!-- Camera Capture Elements -->
                    <video id="camera" autoplay style="display: none;"></video>
                    <canvas id="canvas" style="display: none;"></canvas>
                    <img id="captured-image" style="display: none; width: 200px; height: auto;"/>
                    <input type="hidden" id="captured-image-data" name="captured_image">

                    <label for="height">Height (cm):</label>
                    <input type="number" id="height" required placeholder="Enter your height">
                </div>

                <label for="bodyType">Body Type:</label>
                <div class="body-types">
                    <label>
                        <input type="radio" name="bodyType" value="rectangle">
                        <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/rectangle.jpg" alt="Rectangle">
                        <span>Rectangle</span>
                    </label>
                    <label>
                        <input type="radio" name="bodyType" value="triangle">
                        <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/triangle.jpg" alt="Triangle">
                        <span>Triangle</span>
                    </label>
                    <label>
                        <input type="radio" name="bodyType" value="inverted-triangle">
                        <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/invertedtri.jpg" alt="Inverted Triangle">
                        <span>Inverted Triangle</span>
                    </label>
                    <label>
                        <input type="radio" name="bodyType" value="oval">
                        <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/oval.jpg" alt="Oval">
                        <span>Oval</span>
                    </label>
                    <label>
                        <input type="radio" name="bodyType" value="trapezoid">
                        <img src="https://github.com/Tirthanaik14/UpsideCoders/raw/main/images/trapezoid.jpg" alt="Trapezoid">
                        <span>Trapezoid</span>
                    </label>
                </div>

                <label for="clothingType">Clothing Type:</label>
                <select id="clothingType" onchange="updateBrandOptions()">
                    <option value="" disabled selected>Select the option</option>
                    <option value="tshirt">T-Shirt</option>
                    <option value="shirt">Shirt</option>
                    <option value="pants">Pants</option>
                </select>

                <label for="brand">Brand Preference:</label>
                <select id="brand">
                    <option value="" disabled selected>Select the option</option>
                </select>

                <label for="fit">Preferred Fit:</label>
                <select id="fit">
                    <option value="" disabled selected>Select the option</option>
                    <option>Slim Fit</option>
                    <option>Regular Fit</option>
                    <option>Loose Fit</option>
                </select>

                <button type="submit" class="animated-button">Find My Fit</button>
            </form>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 Pic2Fit | Built for Smart Shopping</p>
    </footer>

    <script>
        function updateBrandOptions() {
            const clothingType = document.getElementById("clothingType").value;
            const brandSelect = document.getElementById("brand");

            brandSelect.innerHTML = '<option value="" disabled selected>Select the option</option>';

            const brandOptions = {
                tshirt: ["Puma", "Adidas", "Souled Store"],
                shirt: ["US Polo", "Louis Philippe", "Raymond"],
                pants: ["Woodland", "Peter England", "Allen Solly"]
            };

            if (brandOptions[clothingType]) {
                brandOptions[clothingType].forEach(brand => {
                    let option = document.createElement("option");
                    option.value = brand.toLowerCase();
                    option.textContent = brand;
                    brandSelect.appendChild(option);
                });
            }
        }
        function openCamera() {
            let video = document.getElementById('camera');
            let canvas = document.getElementById('canvas');
            let capturedImage = document.getElementById('captured-image');
            let capturedImageData = document.getElementById('captured-image-data');

            navigator.mediaDevices.getUserMedia({ video: true })
                .then(stream => {
                    video.style.display = "block";
                    video.srcObject = stream;
                })
                .catch(err => console.error("Error accessing camera:", err));

            // Capture the image when the video is clicked
            video.addEventListener('click', function () {
                canvas.width = video.videoWidth;
                canvas.height = video.videoHeight;
                let ctx = canvas.getContext('2d');
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);

                let imageDataURL = canvas.toDataURL('image/png');
                capturedImage.src = imageDataURL;
                capturedImage.style.display = "block";

                capturedImageData.value = imageDataURL;

                video.style.display = "none";
                video.srcObject.getTracks().forEach(track => track.stop()); // Stop the camera
            });
        }
    </script>
</body>
</html>
